{"ast":null,"code":"var _jsxFileName = \"/home/mono/reactNative/restaurantcompleto/restaurantcliente/src/components/paginas/Menu.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { FirebaseContext } from \"../../firebase\";\nimport Platillo from \"../ui/platillo\";\n\nconst Menu = props => {\n  // definir el state para los platillos\n  const [platillos, guardarPlatillos] = useState([]);\n  const {\n    firebase\n  } = useContext(FirebaseContext); // consultar la base de datos al cargar\n\n  useEffect(() => {\n    const obtenerPlatillos = () => {\n      firebase.db.collection(\"productos\").onSnapshot(manejarSnapshot);\n    };\n\n    obtenerPlatillos();\n  }, [firebase.db]); // Snapshot nos permite utilizar la base de datos en tiempo real de firestore\n\n  function manejarSnapshot(snapshot) {\n    const platillos = snapshot.docs.map(doc => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      };\n    }); // almacenar los resultados en el state\n\n    guardarPlatillos(platillos);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-3xl font-light mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Menu\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/nuevo-platillo\",\n    className: \"bg-blue-800 hover:bg-blue-700, inline-block mb-5 p-2 text-white uppercase font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Agreagar Platillo\"), platillos.map(platillo => /*#__PURE__*/React.createElement(Platillo, {\n    key: platillo.id,\n    platillo: platillo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Menu;","map":{"version":3,"sources":["/home/mono/reactNative/restaurantcompleto/restaurantcliente/src/components/paginas/Menu.js"],"names":["React","useState","useEffect","useContext","Link","FirebaseContext","Platillo","Menu","props","platillos","guardarPlatillos","firebase","obtenerPlatillos","db","collection","onSnapshot","manejarSnapshot","snapshot","docs","map","doc","id","data","platillo"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,eAAR,QAA8B,gBAA9B;AAEA,OAAOC,QAAP,MAAqB,gBAArB;;AAEA,MAAMC,IAAI,GAAGC,KAAK,IAAI;AAElB;AAEA,QAAK,CAACC,SAAD,EAAWC,gBAAX,IAA+BT,QAAQ,CAAC,EAAD,CAA5C;AAEA,QAAM;AAACU,IAAAA;AAAD,MAAaR,UAAU,CAACE,eAAD,CAA7B,CANkB,CAQlB;;AAEAH,EAAAA,SAAS,CAAC,MAAI;AAEV,UAAMU,gBAAgB,GAAG,MAAK;AAC1BD,MAAAA,QAAQ,CAACE,EAAT,CAAYC,UAAZ,CAAuB,WAAvB,EAAoCC,UAApC,CAA+CC,eAA/C;AAGC,KAJL;;AAKAJ,IAAAA,gBAAgB;AACnB,GARQ,EAQP,CAACD,QAAQ,CAACE,EAAV,CARO,CAAT,CAVkB,CAoBlB;;AAEA,WAASG,eAAT,CAA0BC,QAA1B,EAAmC;AAC/B,UAAMR,SAAS,GAAGQ,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkBC,GAAG,IAAG;AACtC,aAAO;AACHC,QAAAA,EAAE,EAAGD,GAAG,CAACC,EADN;AAEH,WAAGD,GAAG,CAACE,IAAJ;AAFA,OAAP;AAIH,KALiB,CAAlB,CAD+B,CAO/B;;AACAZ,IAAAA,gBAAgB,CAACD,SAAD,CAAhB;AACH;;AAGD,sBACI,uDACI;AAAI,IAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,iBAAT;AAA2B,IAAA,SAAS,EAAC,qFAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFJ,EAKKA,SAAS,CAACU,GAAV,CAAcI,QAAQ,iBACnB,oBAAC,QAAD;AACI,IAAA,GAAG,EAAEA,QAAQ,CAACF,EADlB;AAEI,IAAA,QAAQ,EAAEE,QAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CALL,CADJ;AAcH,CAhDD;;AAoDA,eAAehB,IAAf","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport {Link} from \"react-router-dom\"\nimport {FirebaseContext} from \"../../firebase\"\n\nimport Platillo from \"../ui/platillo\"\n\nconst Menu = props => {\n\n    // definir el state para los platillos\n\n    const[platillos,guardarPlatillos] = useState([])\n\n    const {firebase} = useContext(FirebaseContext)\n\n    // consultar la base de datos al cargar\n\n    useEffect(()=>{\n\n        const obtenerPlatillos = () =>{\n            firebase.db.collection(\"productos\").onSnapshot(manejarSnapshot)\n            \n                \n            }\n        obtenerPlatillos()\n    },[firebase.db]);\n\n    // Snapshot nos permite utilizar la base de datos en tiempo real de firestore\n\n    function manejarSnapshot (snapshot){\n        const platillos = snapshot.docs.map(doc =>{\n            return {\n                id : doc.id,\n                ...doc.data()\n            }\n        });\n        // almacenar los resultados en el state\n        guardarPlatillos(platillos)\n    }\n\n\n    return (\n        <>\n            <h1 className=\"text-3xl font-light mb-4\">Menu</h1>\n            <Link to=\"/nuevo-platillo\" className=\"bg-blue-800 hover:bg-blue-700, inline-block mb-5 p-2 text-white uppercase font-bold\">\n                Agreagar Platillo\n            </Link>\n            {platillos.map(platillo =>(\n                <Platillo\n                    key={platillo.id}\n                    platillo={platillo}\n                />\n            ))}\n        </>\n    );\n};\n\n\n\nexport default Menu;"]},"metadata":{},"sourceType":"module"}